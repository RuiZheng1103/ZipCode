package com.rui.zipcode;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Stack;

public class ZipCodeMerge {
	
	public static List<int[]> merge(List<int[]> intervals) {
		Collections.sort(intervals, (int[] v1, int[] v2) -> v1[0] - v2[0]);
		
		Stack<int[]> s = new Stack<>();
		for (int[] interval : intervals) {
			if (s.isEmpty() || s.peek()[1] < interval[0]) {
				s.push(interval);
			} else {
				int[] lastInterval = s.pop();
				lastInterval[1] = Math.max(lastInterval[1], interval[1]);
				s.push(lastInterval);
			}
		}
		return new ArrayList<int[]>(s);
	}
}
